<ion-view>
  <ion-nav-title>
    <span class='ordersTitle'>Current Orders</span>
  </ion-nav-title>
  <ion-content class='ordersViewContainer'>
    <div class='row'>
    	<div class='col col-25 ordersListContainer'>
        <div class='ordersSubHeader'>
          <div class='ordersCount'>{{orders.ordersService.orders.unconfirmed.length}}</div>
           <i class='ion-alert-circled'></i> Needs Confirmation!
        </div>
        <div class='ordersListSubContainer'>
    			<ion-list>
    				<ion-item class='orderListItem' ng-repeat='order in orders.ordersService.orders.unconfirmed' ng-click='orders.selectOrder(order)'>
    					<order-box></order-box>
    				</ion-item>
          </ion-list>
        </div>
        <div class='ordersSubHeader'>
          <i class='ion-fireball'></i> Cooking!
          <div class='ordersCount' style='background-color: orange'>{{orders.ordersService.orders.confirmed.length}}</div>
        </div>
        <div class='ordersListSubContainer'>
          <ion-list>
    				<ion-item class='orderListItem' ng-repeat='order in orders.ordersService.orders.confirmed' ng-click='orders.selectOrder(order)'>
    					<order-box></order-box>
    				</ion-item>
          </ion-list>
        </div>
        <div class='ordersSubHeader'>
           <i class='ion-checkmark-round'></i> Ready for pick up!
           <div class='ordersCount' style='background-color: blue'>{{orders.ordersService.orders.ready.length}}</div>
        </div>
        <div class='ordersListSubContainer'>
          <ion-list>
            <ion-item class='orderListItem' ng-repeat='order in orders.ordersService.orders.ready' ng-click='orders.selectOrder(order)'>
              <order-box></order-box>
            </ion-item>
    			</ion-list>
        </div>
    	</div>
    	<div class='col col-70'>
        <div class='orderViewContainer' ng-show='orders.selectedOrder'>
          <button class='button button-energized helpButton'>Need Help?</button>
      		<div class='orderInfoHeader'>
            <div class='orderNumber'>Order No. {{orders.selectedOrder.id}}</div>
            <div class='orderCustomerName'>for {{orders.selectedOrder.customerName}}</div>
            <div class='orderPickupTime'>Pickup at {{orders.selectedOrder.pickUp}}</div>
          </div>
          <div class='orderInfoDetails'>
            <div class='itemInfoContainer' ng-repeat='item in orders.selectedOrder.items'>
              <div class='subItemInfo'>
                <div class='itemThumbnail'><img ng-src='{{item.img}}'/></div><div class='itemName'> {{item.name}} <span class='itemQuant'>x{{item.quant}}</span></div>
              </div>
              <div class='itemPrice'>${{item.price}}</div>
            </div>
      	  </div>
          <div class='row'>
            <div class='orderPriceDetails col col-33 col-offset-67'>
              <div class='orderSubtotal'><div>Subtotal</div><div>${{orders.selectedOrder.subtotal}}</div></div>
              <div class='orderTax'><div>Tax</div><div>${{orders.selectedOrder.tax}}</div></div>
              <div class='orderTotalPrice'><div>Total</div><div>${{orders.selectedOrder.total}}</div></div>
            </div>
          </div>
          <div class='orderBtnContainer'>
            <button class='button button-balanced' ng-click='orders.confirmOrder()' ng-show='orders.selectedOrder.status == "unconfirmed"'>Confirm Order for {{orders.selectedOrder.pickUp}} pick up</button>
            <div class='orderConfirmedMessage' ng-show='orders.selectedOrder.status == "confirmed"'>Order is confirmed for {{orders.selectedOrder.pickUp}} pick up time.</div>
            <div class='additonalActions'>
              <div class='additionalActionsMessage' ng-click='orders.toggleOrderOptions()'>Additional Order Options <i class='icon' ng-class='orders.orderOptionsEnabled ? "ion-arrow-down-b" : "ion-arrow-right-b"'></i></div>
              <div class='subOrderOptionsContainer' ng-show='orders.orderOptionsEnabled'>
                <div class='subOrderHeader'>Reschedule time</div>
                <div class='orderOptionsButtonsContainer'>
                  <button class='button button-positive'>It's done early!</button><button class='button button-assertive'>I need more time!</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class='noOrdersViewContainer' ng-show='!orders.selectedOrder'>
          <div class='noCurrentOrdersBox'>
            No Current Orders
          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>


